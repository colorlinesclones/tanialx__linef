(this.webpackJsonplinef=this.webpackJsonplinef||[]).push([[0],{15:function(e,t,r){"use strict";r.r(t);var o=r(2),s=r(3),n=r(5),c=r(4),a=r(1),i=r.n(a),l=r(8),h=r.n(l),u=(r(7),r(9)),p=r(0),d=function(e){Object(n.a)(r,e);var t=Object(c.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){return Object(p.jsx)("svg",{height:2*this.props.y,width:2*this.props.x,children:Object(p.jsx)("circle",{cx:this.props.x,cy:this.props.y,r:this.props.r,stroke:"black",strokeWidth:"1",fill:this.props.color})})}}]),r}(i.a.Component),f=function(e){Object(n.a)(r,e);var t=Object(c.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"shouldComponentUpdate",value:function(e){return(null!==this.props.item||null!==e.item)&&(null===this.props.item||null===e.item||(this.props.item.type!==e.item.type||this.props.item.color!==e.item.color))}},{key:"render",value:function(){var e,t=this;return null!=this.props.item&&(e=Object(p.jsx)(d,{x:"22",y:"22",color:this.props.item.color,r:"p"===this.props.item.type?15:5})),Object(p.jsx)("div",{className:"square",onClick:function(){return t.props.onClick()},children:e})}}]),r}(i.a.Component),v=function(e){Object(n.a)(r,e);var t=Object(c.a)(r);function r(e){var s;return Object(o.a)(this,r),(s=t.call(this,e)).colors=["#98ddca","#d5ecc2","#ffd3b4","#ffaaa7"],s.selected=null,s.numberOfPreRenderedItemAtEachMove=3,s.state={squares:s.initArray()},s}return Object(s.a)(r,[{key:"initArray",value:function(){for(var e=Array(this.props.w*this.props.h).fill(null),t=this.numberOfPreRenderedItemAtEachMove,r=this.randomFreeSquareIndex(5+t,e,[]),o=0;o<5;o++)e[r.pop()]={type:"p",color:this.colors[Math.floor(Math.random()*this.colors.length)]};for(var s=0;s<t;s++)e[r.pop()]={type:"f",color:this.colors[Math.floor(Math.random()*this.colors.length)]};return e}},{key:"fItems",value:function(){var e,t=[],r=this.state.squares;for(e=0;e<r.length;e++)r[e]&&"f"===r[e].type&&t.push(e);return t}},{key:"randomFreeSquareIndex",value:function(e,t,r){for(var o=[],s=t.reduce((function(e,t,o){return null!==t||r.includes(o)||e.push(o),e}),[]),n=0;n<e;n++){var c=Math.floor(Math.random()*s.length);o.push(s.splice(c,1)[0])}return o}},{key:"onSquareClicked",value:function(e){if(null!==this.state.squares[e]&&"p"===this.state.squares[e].type)this.selected=e;else if(null!=this.selected){var t=null,r=this.fItems(),o=[e],s=this.state.squares.slice();if(s[e]&&"f"===s[e].type){var n=(t=this.randomFreeSquareIndex(this.numberOfPreRenderedItemAtEachMove+1,s,[e,this.selected])).pop();s[n]={type:"p",color:s[e].color},o.push(n),r.splice(r.indexOf(e),1)}else t=this.randomFreeSquareIndex(this.numberOfPreRenderedItemAtEachMove,s,[e,this.selected]);r.forEach((function(e){s[e]={type:"p",color:s[e].color},o.push(e)}));for(var c=0;c<this.numberOfPreRenderedItemAtEachMove;c++)s[t.pop()]={type:"f",color:this.colors[Math.floor(Math.random()*this.colors.length)]};s[e]={type:s[this.selected].type,color:s[this.selected].color},s[this.selected]=null,this.selected=null;var a,i=this.checkResolved(s,o),l=Object(u.a)(i);try{for(l.s();!(a=l.n()).done;){var h=a.value;s[h]=null}}catch(p){l.e(p)}finally{l.f()}this.setState({squares:s})}else this.selected=null}},{key:"checkResolved",value:function(e,t){var r=[],o=parseInt(this.props.w),s=parseInt(this.props.h);return t.forEach((function(t){for(var n=e[t].type,c=e[t].color,a=Math.floor(t/s)*o,i=a+o,l=[],h=t+1;h<i&&e[h]&&e[h].type===n&&e[h].color===c;h++)l.push(h);for(var u=[],p=t-1;p>=a&&e[p]&&e[p].type===n&&e[p].color===c;p--)u.push(p);u.length+l.length+1>=5&&(r=[t].concat(l,u));for(var d=[],f=t+o;f<e.length&&e[f]&&e[f].type===n&&e[f].color===c;f+=o)d.push(f);for(var v=[],y=t-o;y>=0&&e[y]&&e[y].type===n&&e[y].color===c;y-=o)v.push(y);v.length+d.length+1>=5&&(r=[t].concat(d,v));for(var m=[],j=t+o+1;j<e.length&&e[j]&&e[j].type===n&&e[j].color===c;j+=o+1)m.push(j);for(var b=[],O=t-o-1;O>=0&&e[O]&&e[O].type===n&&e[O].color===c;O-=o+1)b.push(O);b.length+m.length+1>=5&&(r=[t].concat(m,b));for(var k=[],x=t+o-1;x<e.length&&e[x]&&e[x].type===n&&e[x].color===c;x+=o-1)k.push(x);for(var g=[],q=t-o+1;q>=0&&e[q]&&e[q].type===n&&e[q].color===c;q-=o-1)g.push(q);g.length+k.length+1>=5&&(r=[t].concat(k,g))})),r}},{key:"renderSquare",value:function(e){var t=this;return Object(p.jsx)(f,{identifier:e,item:this.state.squares[e],onClick:function(){return t.onSquareClicked(e)}},e)}},{key:"renderRow",value:function(e){for(var t=[],r=0;r<this.props.w;++r){var o=e*this.props.w+r;t.push(this.renderSquare(o))}return Object(p.jsx)("div",{className:"board-row",children:t},"row_".concat(e))}},{key:"renderRows",value:function(){for(var e=[],t=0;t<this.props.h;t++)e.push(this.renderRow(t));return e}},{key:"render",value:function(){return Object(p.jsx)("div",{children:this.renderRows()})}}]),r}(i.a.Component),y=function(e){Object(n.a)(r,e);var t=Object(c.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"game",children:[Object(p.jsx)("div",{className:"game-board",children:Object(p.jsx)(v,{w:"9",h:"9"})}),Object(p.jsxs)("div",{className:"game-info",children:[Object(p.jsx)("div",{}),Object(p.jsx)("ol",{})]})]})}}]),r}(i.a.Component);h.a.render(Object(p.jsx)(y,{}),document.getElementById("root"))},7:function(e,t,r){}},[[15,1,2]]]);
//# sourceMappingURL=main.d798f46e.chunk.js.map