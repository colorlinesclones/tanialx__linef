(this.webpackJsonplinef=this.webpackJsonplinef||[]).push([[0],{15:function(e,t,r){"use strict";r.r(t);var s=r(2),n=r(3),o=r(5),a=r(4),c=r(1),i=r.n(c),l=r(8),h=r.n(l),u=(r(7),r(9)),p=r(0),d=function(e){Object(o.a)(r,e);var t=Object(a.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(n.a)(r,[{key:"render",value:function(){return Object(p.jsx)("svg",{height:2*this.props.y,width:2*this.props.x,children:Object(p.jsx)("circle",{cx:this.props.x,cy:this.props.y,r:this.props.r,stroke:"#555555",strokeWidth:"1",fill:this.props.color})})}}]),r}(i.a.Component),f=function(e){Object(o.a)(r,e);var t=Object(a.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(n.a)(r,[{key:"shouldComponentUpdate",value:function(e){return this.props.isActivated!==e.isActivated||(null!==this.props.item||null!==e.item)&&(null===this.props.item||null===e.item||(this.props.item.type!==e.item.type||this.props.item.color!==e.item.color))}},{key:"render",value:function(){var e,t=this;null!=this.props.item&&(e=Object(p.jsx)(d,{x:"22",y:"22",color:this.props.item.color,r:"p"===this.props.item.type?15:5}));var r=this.props.isActivated?"square square-active":"square";return Object(p.jsx)("div",{className:r,onClick:function(){return t.props.onClick()},children:e})}}]),r}(i.a.Component),v=function(e){Object(o.a)(r,e);var t=Object(a.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).colors=["#FF9494","#FFD08B","#E2E68C","#A8F0D4","#9DE2FE","#C5B8F0","#FBD8FF"],n.numberOfPreRenderedItemAtEachMove=3,n.state={squares:n.initArray(),selected:null},n}return Object(n.a)(r,[{key:"initArray",value:function(){for(var e=Array(this.props.w*this.props.h).fill(null),t=this.numberOfPreRenderedItemAtEachMove,r=this.randomFreeSquareIndex(5+t,e,[]),s=0;s<5;s++)e[r.pop()]={type:"p",color:this.colors[Math.floor(Math.random()*this.colors.length)]};for(var n=0;n<t;n++)e[r.pop()]={type:"f",color:this.colors[Math.floor(Math.random()*this.colors.length)]};return e}},{key:"fItems",value:function(){var e,t=[],r=this.state.squares;for(e=0;e<r.length;e++)r[e]&&"f"===r[e].type&&t.push(e);return t}},{key:"randomFreeSquareIndex",value:function(e,t,r){for(var s=[],n=t.reduce((function(e,t,s){return null!==t||r.includes(s)||e.push(s),e}),[]),o=0;o<e;o++){var a=Math.floor(Math.random()*n.length);s.push(n.splice(a,1)[0])}return s}},{key:"onSquareClicked",value:function(e){if(null!==this.state.squares[e]&&"p"===this.state.squares[e].type)this.setState({selected:e});else if(null!=this.state.selected){var t=null,r=this.fItems(),s=[e],n=this.state.squares.slice();if(n[e]&&"f"===n[e].type){var o=(t=this.randomFreeSquareIndex(this.numberOfPreRenderedItemAtEachMove+1,n,[e,this.state.selected])).pop();n[o]={type:"p",color:n[e].color},s.push(o),r.splice(r.indexOf(e),1)}else t=this.randomFreeSquareIndex(this.numberOfPreRenderedItemAtEachMove,n,[e,this.state.selected]);r.forEach((function(e){n[e]={type:"p",color:n[e].color},s.push(e)}));for(var a=0;a<this.numberOfPreRenderedItemAtEachMove;a++)n[t.pop()]={type:"f",color:this.colors[Math.floor(Math.random()*this.colors.length)]};n[e]={type:n[this.state.selected].type,color:n[this.state.selected].color},n[this.state.selected]=null;var c,i=this.checkResolved(n,s),l=Object(u.a)(i);try{for(l.s();!(c=l.n()).done;){var h=c.value;n[h]=null}}catch(p){l.e(p)}finally{l.f()}this.setState({squares:n,selected:null})}else this.setState({selected:null})}},{key:"checkResolved",value:function(e,t){var r=[],s=parseInt(this.props.w),n=parseInt(this.props.h);return t.forEach((function(t){for(var o=e[t].type,a=e[t].color,c=Math.floor(t/n)*s,i=c+s,l=[],h=t+1;h<i&&e[h]&&e[h].type===o&&e[h].color===a;h++)l.push(h);for(var u=[],p=t-1;p>=c&&e[p]&&e[p].type===o&&e[p].color===a;p--)u.push(p);u.length+l.length+1>=5&&(r=[t].concat(l,u));for(var d=[],f=t+s;f<e.length&&e[f]&&e[f].type===o&&e[f].color===a;f+=s)d.push(f);for(var v=[],j=t-s;j>=0&&e[j]&&e[j].type===o&&e[j].color===a;j-=s)v.push(j);v.length+d.length+1>=5&&(r=[t].concat(d,v));for(var y=[],m=t+s+1;m<e.length&&e[m]&&e[m].type===o&&e[m].color===a;m+=s+1)y.push(m);for(var b=[],O=t-s-1;O>=0&&e[O]&&e[O].type===o&&e[O].color===a;O-=s+1)b.push(O);b.length+y.length+1>=5&&(r=[t].concat(y,b));for(var k=[],x=t+s-1;x<e.length&&e[x]&&e[x].type===o&&e[x].color===a;x+=s-1)k.push(x);for(var g=[],q=t-s+1;q>=0&&e[q]&&e[q].type===o&&e[q].color===a;q-=s-1)g.push(q);g.length+k.length+1>=5&&(r=[t].concat(k,g))})),r}},{key:"renderSquare",value:function(e){var t=this;return Object(p.jsx)(f,{item:this.state.squares[e],onClick:function(){return t.onSquareClicked(e)},isActivated:this.state.selected===e},e)}},{key:"renderRows",value:function(){for(var e=[],t=0;t<this.state.squares.length;t++)e.push(this.renderSquare(t));return e}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"game-board",children:this.renderRows()})}}]),r}(i.a.Component),j=function(e){Object(o.a)(r,e);var t=Object(a.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(n.a)(r,[{key:"render",value:function(){return Object(p.jsx)("span",{children:this.props.score})}}]),r}(i.a.Component),y=function(e){Object(o.a)(r,e);var t=Object(a.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(n.a)(r,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"game",children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"score-board",children:[Object(p.jsx)("span",{children:"Score: "}),Object(p.jsx)(j,{score:"0"})]}),Object(p.jsx)(v,{w:"9",h:"9"})]})})}}]),r}(i.a.Component);h.a.render(Object(p.jsx)(y,{}),document.getElementById("root"))},7:function(e,t,r){}},[[15,1,2]]]);
//# sourceMappingURL=main.706dde83.chunk.js.map